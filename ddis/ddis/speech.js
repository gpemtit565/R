const _0x4686=['once','undefined','@google-cloud/text-to-speech','MP3','reply','send','text-to-speech-req','TextToSpeechClient','str\x20is\x20undefined','FEMALE','exports','length','getTime','electron','MALE','audioContent','silken-avatar-268104','catch','ko-KR-Wavenet-D','success','resKey','minji','floor','random','ko-KR','toB64Str','fail','data','ko-KR-Wavenet-B','type','then','result','./sopia-tts.json','text'];(function(_0x29151e,_0x3d4313){const _0x12f3e6=function(_0x1fadba){while(--_0x1fadba){_0x29151e['push'](_0x29151e['shift']());}};_0x12f3e6(++_0x3d4313);}(_0x4686,0x1d6));const _0x430f=function(_0x29151e,_0x3d4313){_0x29151e=_0x29151e-0x0;let _0x12f3e6=_0x4686[_0x29151e];return _0x12f3e6;};const projectId=_0x430f('0x16');const keyfile=_0x430f('0x4');const {ipcMain,ipcRenderer}=require(_0x430f('0x13'));let client=null;Buffer['prototype'][_0x430f('0x1f')]=function(){let _0x43fa31=this;return'data:audio/mp3;base64,'+_0x43fa31['toString']('base64');};const voices={'minji':{'languageCode':_0x430f('0x1e'),'name':'ko-KR-Wavenet-A','ssmlGender':'FEMALE'},'minjung':{'languageCode':'ko-KR','name':_0x430f('0x0'),'ssmlGender':_0x430f('0xf')},'minsu':{'languageCode':'ko-KR','name':'ko-KR-Wavenet-C','ssmlGender':'MALE'},'minsang':{'languageCode':_0x430f('0x1e'),'name':_0x430f('0x18'),'ssmlGender':_0x430f('0x14')}};const StrToSpeech=(_0x154b3a,_0x5d9afb=_0x430f('0x1b'))=>{return new Promise((_0x4219fc,_0x4d4c42)=>{if(!_0x154b3a)_0x4d4c42(new Error(_0x430f('0xe')));if(_0x5d9afb===_0x430f('0x1d')){let _0x342ccb=Object['keys'](voices);let _0x47ee40=Math[_0x430f('0x1c')](Math['random']()*_0x342ccb[_0x430f('0x11')]);_0x5d9afb=_0x342ccb[_0x47ee40];}const _0x46abcd={'input':{'text':_0x154b3a},'voice':voices[_0x5d9afb],'audioConfig':{'audioEncoding':_0x430f('0x9')}};client['synthesizeSpeech'](_0x46abcd,(_0x24c0ac,_0x379698)=>{if(_0x24c0ac){_0x4d4c42(_0x24c0ac);}_0x4219fc(_0x379698[_0x430f('0x15')][_0x430f('0x1f')]());});});};const tts=(_0x4c430e,_0x1e4ab6)=>{return new Promise((_0x396685,_0x1c4c7d)=>{const _0x679f35='text-to-speech-res-'+new Date()[_0x430f('0x12')]();ipcRenderer[_0x430f('0x6')](_0x679f35,(_0x18ec44,_0x249e06)=>{if(_0x249e06[_0x430f('0x3')]==='success'){_0x396685(_0x249e06['data']);}else{_0x1c4c7d(_0x249e06[_0x430f('0x21')]);}});ipcRenderer[_0x430f('0xb')]('text-to-speech-req',{'text':_0x4c430e,'type':_0x1e4ab6,'resKey':_0x679f35});});};const mainInit=()=>{let _0x4888d2=typeof window!==_0x430f('0x7');if(!_0x4888d2){const _0x54b6c2=require(_0x430f('0x8'));client=new _0x54b6c2[(_0x430f('0xd'))]({'projectId':projectId,'keyFilename':keyfile});ipcMain['on'](_0x430f('0xc'),(_0xf754df,_0x56757b)=>{StrToSpeech(_0x56757b[_0x430f('0x5')],_0x56757b[_0x430f('0x1')])[_0x430f('0x2')](_0x293a4=>{_0xf754df[_0x430f('0xa')](_0x56757b[_0x430f('0x1a')],{'result':_0x430f('0x19'),'data':_0x293a4});})[_0x430f('0x17')](_0x3e47aa=>{_0xf754df['reply'](_0x56757b[_0x430f('0x1a')],{'result':_0x430f('0x20'),'data':_0x3e47aa});});});}};module[_0x430f('0x10')]={'init':mainInit,'read':tts,'voices':voices};